(function(){function a(a,c){return a.map(b).join(c)}function b(a){return/[",\n]/.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}d3.tsv=function(a,b){d3.text(a,"text/tab-separated-values",function(a){b(a&&d3.tsv.parse(a,"\t"))})},d3.tsv.version="0.0.2",d3.tsv.parse=function(a,b){var c;return b&&d3.tsv.parseRows(a,b,function(a,b){if(b){var d={},e=-1,f=c.length;while(++e<f)d[c[e]]=a[e];return d}return c=a,null})},d3.tsv.parseRows=function(a,b,c){function l(){if(g.lastIndex>=a.length)return e;if(k)return k=!1,d;var b=g.lastIndex;if(a.charCodeAt(b)===34){var c=b;while(c++<a.length)if(a.charCodeAt(c)===34){if(a.charCodeAt(c+1)!==34)break;c++}g.lastIndex=c+2;var f=a.charCodeAt(c+1);return f===13?(k=!0,a.charCodeAt(c+2)===10&&g.lastIndex++):f===10&&(k=!0),a.substring(b+1,c).replace(/""/g,'"')}var i=g.exec(a);return i?(k=i[0].charCodeAt(0)!==h,a.substring(b,i.index)):(g.lastIndex=a.length,a.substring(b))}var d={},e={},f=[],g=new RegExp("\r\n|["+b+"\r\n]","g"),h=b.charCodeAt(0),i=0,j,k;g.lastIndex=0;while((j=l())!==e){var m=[];while(j!==d&&j!==e)m.push(j),j=l();if(c&&!(m=c(m,i++)))continue;f.push(m)}return f},d3.tsv.format=function(b){return b.map(function(b){return a(b,"\t")}).join("\n")}})();